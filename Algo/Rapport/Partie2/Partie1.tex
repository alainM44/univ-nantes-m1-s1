\chapter{PARTIE2}
\section{Algorithme de plus court chemin}
Les deux methodes demandées pour le calul d'itinéaire (par agrégation et à détour borné), il est necessaire  d'employer un algoritme de plus court chemin.
Notre choix de d'algorithme s'est orienté vers celui Bellman Ford. Son avantage par rapport à celui de Dijkstra est qu'il est capable de détecter un circuit absorbant. Il peut de la sorte informer l'utilisateur l'echec de a recherche d'un itinéraire compromis selon ces paramètres. 

IMPLEMENTATION DE DIJKSTRA QUAND MEME ??


\section{Methode Agrégation}
L'objectif de cette methode est d'obtenir un plus court chemin avec une pondération particulière pour routes calculée au préalable.
Il suffit donc d'appliquer un algorithme standard de parcours de graph en fournissant toutes les pondérations de chaques routes et villes que l'on aura calculé au préalable. N Nous avons procédé de cette manière. Ainsi la fonction $get_agregat(Route route, double A)$ permet de donner l'agrégat d'une route. Elle est utilisée par  $public ArrayList<Double> agregation(double A)$ qui retourne un tableau de ces pondération indicé par l'id des routes. Ce tableau est ensuite fourni en paramètre à l'Algorithme de Bellman Ford. Celui ci pourra alors procéder au relâchement des arcs en fonctions de ces pondérations. 

 
Méthode d’agrégation
La méthode d’agrégation consiste à considérer une fonction de pondération w des arcs du graphe
qui est calculée à partir des décorations des nœuds et arcs de celui-ci. Une fois cette fonction définie, le
problème devient un simple problème de plus court chemin et peut alors être résolu par les algorithmes
vus en cours 1 . La fonction w peut être définie comme une fonction d’agrégation des deux critères distance
(d) et intérêt (i) :
wA (u → v) = A ∗ d(u → v)/dmax − (1 − A) ∗ (i(u → v) + i(v))/(2 ∗ imax )
(1)
où dmax est la plus grande distance affectée à une route, imax est le plus grand intérêt porté à un lieu ou
à une route, et A est un paramètre réel compris en 0 et 1 qui représente l’importance respective donnée
à la distance par rapport à l’intérêt touristique : lorsque A = 0 le chemin calculé dépend uniquement
de l’intérêt, alors que lorsque A = 1 il ne dépend que de la distance. L’intérêt d’une route est toujours
additionnée à celui du lieu auquel elle conduit : les lieux traversés sont visités et augmentent donc l’attrait
touristique de l’itinéraire. Les termes dmax et imax interviennent ici afin de normaliser les deux critères
relativement l’un à l’autre : après normalisation, la distance et l’intérêt de tout arc est un réel entre 0 et 1.
Ces valeurs normalisées et pondérées par leurs importances respectives sont alors agrégées par différence,
du fait de leur nature contradictoire : le long d’un chemin, l’intérêt augmente nécessairement lorsque la
distance augmente, et diminue nécessairement lorsqu’elle diminue ; or il faut minimiser la distance tout
en maximisant l’intérêt. Notez que selon la valeur de A, la pondération wA de certains arcs pourrait être
négative, et le graphe pourrait même contenir un circuit absorbant ! Dans ce cas, cette méthode échoue
et ne peut calculer un itinéraire compromis.


\clearpage
